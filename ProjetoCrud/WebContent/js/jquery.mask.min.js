// jQuery Mask Plugin v1.10.12
// github.com/igorescobar/jQuery-Mask-Plugin
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(window.jQuery||window.Zepto)})(function(a){var y=function(b,e,d){b=a(b);var g=this,k=b.val(),n;e="function"===typeof e?e(b.val(),void 0,b,d):e;var c={invalid:[],getCaret:function(){try{var h,q=0,c=b.get(0),f=document.selection,a=c.selectionStart;if(f&&!~navigator.appVersion.indexOf("MSIE 10"))h=f.createRange(),h.moveStart("character",b.is("input")?-b.val().length:-b.text().length),q=h.text.length;else if(a||"0"===a)q=a;return q}catch(e){}},
setCaret:function(h){try{if(b.is(":focus")){var q,a=b.get(0);a.setSelectionRange?a.setSelectionRange(h,h):a.createTextRange&&(q=a.createTextRange(),q.collapse(!0),q.moveEnd("character",h),q.moveStart("character",h),q.select())}}catch(f){}},events:function(){b.on("keyup.mask",c.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},100)}).on("change.mask",function(){b.data("changed",!0)}).on("blur.mask",function(){k===b.val()||b.data("changed")||b.trigger("change");
b.data("changed",!1)}).on("keydown.mask, blur.mask",function(){k=b.val()}).on("focusout.mask",function(){d.clearIfNotMatch&&!n.test(c.val())&&c.val("")})},getRegexMask:function(){for(var h=[],b,a,f,c,d=0;d<e.length;d++)(b=g.translation[e[d]])?(a=b.pattern.toString().replace(/.{1}$|^.{1}/g,""),f=b.optional,(b=b.recursive)?(h.push(e[d]),c={digit:e[d],pattern:a}):h.push(f||b?a+"?":a)):h.push(e[d].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));h=h.join("");c&&(h=h.replace(RegExp("("+c.digit+"(.*"+c.digit+
")?)"),"($1)?").replace(RegExp(c.digit,"g"),c.pattern));return RegExp(h)},destroyEvents:function(){b.off("keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(h){var a=b.is("input")?"val":"text";if(0<arguments.length){if(b[a]()!==h)b[a](h);a=b}else a=b[a]();return a},getMCharsBeforeCount:function(a,b){for(var c=0,f=0,d=e.length;f<d&&f<a;f++)g.translation[e.charAt(f)]||(a=b?a+1:a,c++);return c},caretPos:function(a,b,d,f){return g.translation[e.charAt(Math.min(a-1,e.length-
1))]?Math.min(a+d-b-f,d):c.caretPos(a+1,b,d,f)},behaviour:function(b){b=b||window.event;c.invalid=[];var d=b.keyCode||b.which;if(-1===a.inArray(d,g.byPassKeys)){var e=c.getCaret(),f=c.val().length,p=e<f,l=c.getMasked(),k=l.length,m=c.getMCharsBeforeCount(k-1)-c.getMCharsBeforeCount(f-1);c.val(l);!p||65===d&&b.ctrlKey||(8!==d&&46!==d&&(e=c.caretPos(e,f,k,m)),c.setCaret(e));return c.callbacks(b)}},getMasked:function(a){var b=[],k=c.val(),f=0,p=e.length,l=0,n=k.length,m=1,t="push",u=-1,s,w;d.reverse?
(t="unshift",m=-1,s=0,f=p-1,l=n-1,w=function(){return-1<f&&-1<l}):(s=p-1,w=function(){return f<p&&l<n});for(;w();){var x=e.charAt(f),v=k.charAt(l),r=g.translation[x];if(r)v.match(r.pattern)?(b[t](v),r.recursive&&(-1===u?u=f:f===s&&(f=u-m),s===u&&(f-=m)),f+=m):r.optional?(f+=m,l-=m):r.fallback?(b[t](r.fallback),f+=m,l-=m):c.invalid.push({p:l,v:v,e:r.pattern}),l+=m;else{if(!a)b[t](x);v===x&&(l+=m);f+=m}}a=e.charAt(s);p!==n+1||g.translation[a]||b.push(a);return b.join("")},callbacks:function(a){var g=
c.val(),n=g!==k,f=[g,a,b,d],p=function(a,b,c){"function"===typeof d[a]&&b&&d[a].apply(this,c)};p("onChange",!0===n,f);p("onKeyPress",!0===n,f);p("onComplete",g.length===e.length,f);p("onInvalid",0<c.invalid.length,[g,a,b,c.invalid,d])}};g.mask=e;g.options=d;g.remove=function(){var a=c.getCaret();c.destroyEvents();c.val(g.getCleanVal());c.setCaret(a-c.getMCharsBeforeCount(a));return b};g.getCleanVal=function(){return c.getMasked(!0)};g.init=function(e){e=e||!1;d=d||{};g.byPassKeys=a.jMaskGlobals.byPassKeys;
g.translation=a.jMaskGlobals.translation;g.translation=a.extend({},g.translation,d.translation);g=a.extend(!0,{},g,d);n=c.getRegexMask();!1===e?(d.placeholder&&b.attr("placeholder",d.placeholder),b.attr("autocomplete","off"),c.destroyEvents(),c.events(),e=c.getCaret(),c.val(c.getMasked()),c.setCaret(e+c.getMCharsBeforeCount(e,!0))):(c.events(),c.val(c.getMasked()))};g.init(!b.is("input"))};a.maskWatchers={};var A=function(){var b=a(this),e={},d=b.attr("data-mask");b.attr("data-mask-reverse")&&(e.reverse=
!0);b.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0);if(z(b,d,e))return b.data("mask",new y(this,d,e))},z=function(b,e,d){d=d||{};b=a(b).data("mask");var g=JSON.stringify;try{return"object"!==typeof b||g(b.options)!==g(d)||b.mask!==e}catch(k){}};a.fn.mask=function(b,e){e=e||{};var d=this.selector,g=a.jMaskGlobals,k=a.jMaskGlobals.watchInterval,n=function(){if(z(this,b,e))return a(this).data("mask",new y(this,b,e))};a(this).each(n);d&&""!==d&&g.watchInputs&&(clearInterval(a.maskWatchers[d]),
a.maskWatchers[d]=setInterval(function(){a(document).find(d).each(n)},k))};a.fn.unmask=function(){clearInterval(a.maskWatchers[this.selector]);delete a.maskWatchers[this.selector];return this.each(function(){a(this).data("mask")&&a(this).data("mask").remove().removeData("mask")})};a.fn.cleanVal=function(){return this.data("mask").getCleanVal()};var k={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,watchDataMask:!1,byPassKeys:[9,16,17,18,36,
37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{};k=a.jMaskGlobals=a.extend(!0,{},k,a.jMaskGlobals);k.dataMask&&a(k.dataMaskAttr).each(A);setInterval(function(){a.jMaskGlobals.watchDataMask&&a(document).find(a.jMaskGlobals.maskElements).filter(k.dataMaskAttr).each(A)},k.watchInterval)});
